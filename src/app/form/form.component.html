<ul>
    <li>学习获取值</li>
</ul>

<ul>
    <li>通过 $event 获取用户输入
        <input (keyup)="onKey($event)">
        <p>{{values}}</p>

    </li>

    <li>引用变量获取输入的数据
        <input type="text" #str (keyup)='0'>
        <p>{{str.value}}</p>
        <p>如果你不加 keyup 事件，获取的值就不能立刻更改</p>
    </li>

    <li>引用变量 + 事件获取值，获取的值最干净，不用解析事件
        <input #name (keyup)="onKey(name.value)">
        <p>{{values}}</p>
    </li>
    <li>监听用户点击 enter：可以$event.keyCode or 绑定 keyup.enter
        <input #enter (keyup.enter)="onKey(enter.value)" (blur)="clear(enter.value)">

        <p>{{values}}</p>

    </li>
</ul>

<div class="line"></div>


<div class="container" [hidden]="submitted">
    <h3>template form </h3>

    <!-- ngForm 是你 import 的 FormsModule 里声明的，可以直接使用 -->
    <!-- <form #heroForm="ngForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" #name="ngModel" appForbiddenName="bob" minlength='3' [(ngModel)]="model.name" name="name" class="form-control" id="name" required>
            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

                <div *ngIf="name.errors.required">
                    Name is required.
                </div>
                <div *ngIf="name.errors.minlength">
                    Name must be at least 3 characters long.
                </div>
                <div *ngIf="name.errors.forbiddenName">
                    Name cannot be Bob.
                </div>

            </div>
        </div>

        <div class="form-group">
            <label for="alterEgo">Alter Ego</label>
            <input type="text" #alterEgo="ngModel" [(ngModel)]="model.alterEgo" name="alterEgo" class="form-control" id="alterEgo" required>

            <div [hidden]="alterEgo.valid || alterEgo.pristine" class="alert alert-danger">
            </div>

        </div>
        <div class="form-group">
            <label for="power">Hero Power</label>
            <select class="form-control" id="power" required>
              <option *ngFor="let pow of powers" [value]="pow">{{pow}}</option>
            </select>
        </div>

        <button type="button" class="btn btn-default" (click)="newHero(); heroForm.reset()">New Hero</button>
        <button type="submit" [disabled]="!heroForm.form.valid" class="btn btn-success">Submit</button>

    </form> -->
</div>


<!-- <div [hidden]="!submitted">
    <h3>You submitted the following:</h3>
    <div class="row">
        <div class="col-xs-3">Name</div>
        <div class="col-xs-9  pull-left">{{ model.name }}</div>
    </div>
    <div class="row">
        <div class="col-xs-3">Alter Ego</div>
        <div class="col-xs-9 pull-left">{{ model.alterEgo }}</div>
    </div>
    <div class="row">
        <div class="col-xs-3">Power</div>
        <div class="col-xs-9 pull-left">{{ model.power }}</div>
    </div>
    <br>
    <button class="btn btn-primary" (click)="submitted=false">Edit</button>
</div> -->

<div class="line"></div>
<h3>数据驱动 reactive Form</h3>

<div class="container">

    <h1>Reactive Form</h1>

    <!-- <form [formGroup]="heroForm">


        <div class="form-group">

            <label for="name">Name</label>
            <input id="name" class="form-control" formControlName="name" required>

            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

                <div *ngIf="name.errors.required">
                    Name is required.
                </div>
                <div *ngIf="name.errors.minlength">
                    Name must be at least 4 characters long.
                </div>
                <div *ngIf="name.errors.forbiddenName">
                    Name cannot be Bob.
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="alterEgo">Alter Ego</label>
            <input id="alterEgo" class="form-control" formControlName="alterEgo">
        </div>

        <div class="form-group">
            <label for="power">Hero Power</label>
            <select id="power" class="form-control" formControlName="power" required>
        <option *ngFor="let p of powers" [value]="p">{{p}}</option>
      </select>

            <div *ngIf="power.invalid && power.touched" class="alert alert-danger">
                <div *ngIf="power.errors.required">Power is required.</div>
            </div>
        </div>

        <button type="submit" class="btn btn-default" [disabled]="heroForm.invalid">Submit</button>
    </form> -->


</div>

<ul>
    <li>heroForm.reset(); 重置表单信息和验证；可以重置 ng-dirty -> ng-pristine。这可以校验数据是否有变化</li>
    <li>angular 会自动的附加一个 NgForm 指令， 在你 import FormsModule</li>
    <li> NgForm 会控制那些带有 ngModel 指令和 name 属性的元素，监听他们的属性（包括其有效性）。</li>
</ul>